<div>
    <div class="path-nav">
        <span style="margin-right: 5px" *ngIf="parentFolder" class="file-row">
            <mat-icon (click)="onClickFolder(parentFolder)">keyboard_backspace</mat-icon>
        </span>
        <span style="margin-right: 5px">
            <mat-icon onclick="location.reload();" class="file-row">refresh</mat-icon>
        </span>
        <span (click)="onClickFolder(rootFolder)" class="file-row">{{rootFolder.name}}</span>
        <ng-container *ngIf="parentFolders.length > 0">
            <mat-icon >keyboard_arrow_right</mat-icon>
            <button mat-button [matMenuTriggerFor]="menuGoParentFolder">...</button>
            <mat-menu #menuGoParentFolder="matMenu">
              <button mat-menu-item *ngFor="let element of parentFolders" (click)="onClickFolder(element)">{{element.name}}</button>
            </mat-menu>
        </ng-container>

        <mat-icon *ngIf="folderId != rootFolder.id">keyboard_arrow_right</mat-icon>
        <ng-container *ngIf="folderId != rootFolder.id" class="file-row">{{folderName}}</ng-container>
    </div>
    <table mat-table [dataSource]="files" matSort class="mat-elevation-z8" style="width: 100%">
        <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox (change)="$event ? masterToggle() : null"
                            [checked]="selection.hasValue() && isAllSelected()"
                            [indeterminate]="selection.hasValue() && !isAllSelected()"
                            [aria-label]="checkboxLabel()">
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox (click)="$event.stopPropagation()"
                            (change)="$event ? selection.toggle(row) : null"
                            [checked]="selection.isSelected(row)"
                            [aria-label]="checkboxLabel(row)">
              </mat-checkbox>
            </td>
          </ng-container>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
            <td mat-cell *matCellDef="let element" class="file-row" (click)="onClickRow(element)"> 
                <mat-icon *ngIf="element.ext_type == 'FOLDER'">folder</mat-icon>
                <mat-icon *ngIf="element.ext_type == 'OTHER'">insert_drive_file</mat-icon>
                <mat-icon *ngIf="element.ext_type == 'PICTURE'">photo</mat-icon> 
                <mat-icon *ngIf="element.ext_type == 'MUSIC'">music_note</mat-icon> 
                <mat-icon *ngIf="element.ext_type == 'VIDEO'">movie</mat-icon>
                <mat-icon *ngIf="element.ext_type == 'COMPRESSED'">archive</mat-icon> 
                <mat-icon *ngIf="element.ext_type == 'CODE'">code</mat-icon> 
                <mat-icon *ngIf="element.ext_type == 'EXECUTABLE'">apps</mat-icon> 
                <mat-icon *ngIf="element.ext_type == 'LIBRARY'">library_books</mat-icon> 
                <mat-icon *ngIf="element.ext_type == 'BOOK'">book</mat-icon> 
                <span>        {{element.name}}</span>
            </td>
        </ng-container>

        <ng-container matColumnDef="last_modified">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Modified </th>
            <td mat-cell *matCellDef="let element" class="file-row" (click)="onClickRow(element)"> {{element.natural_last_modified}} </td>
        </ng-container>
    
        <ng-container matColumnDef="size">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Size </th>
            <td mat-cell *matCellDef="let element"class="file-row" (click)="onClickRow(element)"> {{element.natural_size}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"(click)="selection.toggle(row)">
    </tr>
    </table>
</div>
  

